{0} setUpClass (tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test) ... SKIPPED: LiveAutoBlockMigrationV225Test skipped as live-migration is not available
{0} setUpClass (tempest.api.compute.admin.test_live_migration.LiveMigrationTest) ... SKIPPED: LiveMigrationTest skipped as live-migration is not available
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_with_multiattach_volume_direct_lun ... SKIPPED: hw_scsi_model=virtio-scsi not set on image
{0} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [0.178649s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volume_snapshots.py", line 53, in test_volume_snapshot_create_get_list_delete
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 530, in create_volume
    volume = cls.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 69, in create_volume
    resp, body = self.post('os-volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:24,369 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotsTestJSON:test_volume_snapshot_create_get_list_delete): 500 POST http://10.201.5.82/compute/v2.1/os-volumes 0.176s
2025-01-06 16:25:24,369 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "display_name": "tempest-VolumesSnapshotsTestJSON-volume-1756529158"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:24 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-4abd1aa4-aeb2-4005-b5c9-cd11648e8260', 'x-compute-request-id': 'req-4abd1aa4-aeb2-4005-b5c9-cd11648e8260', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'

{0} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [0.147436s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_get.py", line 55, in test_volume_create_get_delete
    volume = self.create_volume(size=CONF.volume.volume_size,

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 530, in create_volume
    volume = cls.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 69, in create_volume
    resp, body = self.post('os-volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:25,592 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesGetTestJSON:test_volume_create_get_delete): 500 POST http://10.201.5.82/compute/v2.1/os-volumes 0.146s
2025-01-06 16:25:25,592 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "display_name": "tempest-VolumesGetTestJSON-Volume-311285722", "metadata": {"Type": "work"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-e93e0649-58ca-46fa-ba85-6bda6725afc6', 'x-compute-request-id': 'req-e93e0649-58ca-46fa-ba85-6bda6725afc6', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'

{0} setUpClass (tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_list.py", line 56, in resource_setup
    volume = cls.create_volume(metadata=metadata)

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 530, in create_volume
    volume = cls.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.070300s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.009070s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.006803s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.016225s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_negative.py", line 106, in test_delete_invalid_volume_id
    self.assertRaises(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 81, in delete_volume
    resp, body = self.delete("os-volumes/%s" % volume_id)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 359, in delete
    return self.request('DELETE', url, extra_headers, headers, body)

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:27,810 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_delete_invalid_volume_id): 500 DELETE http://10.201.5.82/compute/v2.1/os-volumes/tempest-invalid-554354669 0.013s
2025-01-06 16:25:27,810 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-27318d49-778e-4937-a0a6-9dcad7f1fdf2', 'x-compute-request-id': 'req-27318d49-778e-4937-a0a6-9dcad7f1fdf2', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes/tempest-invalid-554354669'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'

{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.009297s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.004131s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.010938s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_negative.py", line 60, in test_volume_delete_nonexistent_volume_id
    self.assertRaises(lib_exc.NotFound, self.client.delete_volume,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 81, in delete_volume
    resp, body = self.delete("os-volumes/%s" % volume_id)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 359, in delete
    return self.request('DELETE', url, extra_headers, headers, body)

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:27,838 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_volume_delete_nonexistent_volume_id): 500 DELETE http://10.201.5.82/compute/v2.1/os-volumes/d17afa53-65c7-489f-916c-db838b6723a5 0.010s
2025-01-06 16:25:27,838 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-1fee2e69-3c8a-4d48-a2d3-90008a6936e1', 'x-compute-request-id': 'req-1fee2e69-3c8a-4d48-a2d3-90008a6936e1', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes/d17afa53-65c7-489f-916c-db838b6723a5'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'

{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.010155s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_negative.py", line 51, in test_volume_get_nonexistent_volume_id
    self.assertRaises(lib_exc.NotFound, self.client.show_volume,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 56, in show_volume
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:27,849 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_volume_get_nonexistent_volume_id): 500 GET http://10.201.5.82/compute/v2.1/os-volumes/ff41b3fa-f616-4ee6-9c47-c8efd78afedd 0.009s
2025-01-06 16:25:27,849 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-dfdd19a8-5b9f-4956-b7a4-84a2b98f6100', 'x-compute-request-id': 'req-dfdd19a8-5b9f-4956-b7a4-84a2b98f6100', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes/ff41b3fa-f616-4ee6-9c47-c8efd78afedd'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'

{0} tempest.api.image.v2.test_images_dependency.ImageDependencyTests.test_image_volume_server_snapshot_dependency [1.262918s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/common/utils/__init__.py", line 65, in wrapper
    return f(*func_args, **func_kwargs)

      File "/opt/stack/tempest/tempest/api/image/v2/test_images_dependency.py", line 128, in test_image_volume_server_snapshot_dependency
    base_image_id, snapshot_image_id = self._create_instance_snapshot(

      File "/opt/stack/tempest/tempest/api/image/v2/test_images_dependency.py", line 77, in _create_instance_snapshot
    instance = self.create_test_server(

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 243, in create_test_server
    body, servers = compute.create_test_server(

      File "/opt/stack/tempest/tempest/common/compute.py", line 258, in create_test_server
    volume = volumes_client.create_volume(**params)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:29,277 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 201 POST http://10.201.5.82/image/v2/images 0.362s
2025-01-06 16:25:29,278 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"name": "tempest-image-dependency-test-1765552529", "container_format": "bare", "disk_format": "raw", "visibility": "private"}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '648', 'content-type': 'application/json', 'location': 'http://127.0.0.1:60999/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7', 'openstack-image-import-methods': 'glance-direct,web-download,copy-image', 'x-openstack-request-id': 'req-fd4a896f-bcf6-4e6f-9c4a-fa6483fcf5e9', 'connection': 'close', 'status': '201', 'content-location': 'http://10.201.5.82/image/v2/images'}
        Body: b'{"name": "tempest-image-dependency-test-1765552529", "disk_format": "raw", "container_format": "bare", "visibility": "private", "size": null, "virtual_size": null, "status": "queued", "checksum": null, "protected": false, "min_ram": 0, "min_disk": 0, "owner": "874d9fba707643318e48d133729b7dc9", "os_hidden": false, "os_hash_algo": null, "os_hash_value": null, "id": "1f21bd7e-6f71-466a-9ee1-e738836b8af7", "created_at": "2025-01-06T16:25:29Z", "updated_at": "2025-01-06T16:25:29Z", "tags": [], "self": "/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7", "file": "/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7/file", "schema": "/v2/schemas/image"}'
2025-01-06 16:25:30,118 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 204 PUT http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7/file 0.839s
2025-01-06 16:25:30,119 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/octet-stream', 'X-Auth-Token': '<omitted>'}
        Body: <callable_iterator object at 0x7f0aa801b520>
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:29 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-type': 'text/html; charset=UTF-8', 'x-openstack-request-id': 'req-058afc94-b1bd-41da-bdd7-03c9bcd54458', 'connection': 'close', 'status': '204', 'content-location': 'http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7/file'}
        Body: b''
2025-01-06 16:25:30,137 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 200 GET http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7 0.018s
2025-01-06 16:25:30,137 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '808', 'content-type': 'application/json', 'x-openstack-request-id': 'req-6167f5d9-af9a-4b64-8587-ab360f3d44c4', 'connection': 'close', 'status': '200', 'content-location': 'http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7'}
        Body: b'{"name": "tempest-image-dependency-test-1765552529", "disk_format": "raw", "container_format": "bare", "visibility": "private", "size": 1024, "virtual_size": 1024, "status": "active", "checksum": "6e5b3e089d97f5a24b9be583483f189a", "protected": false, "min_ram": 0, "min_disk": 0, "owner": "874d9fba707643318e48d133729b7dc9", "os_hidden": false, "os_hash_algo": "sha512", "os_hash_value": "107cd2c0de5d823bdbbe034e91133b194ba9841d215fcc8f6655b19a446d0fdd4ef7112d4e0b57398404e8e81fdfa728ebcd2f13ac18ac2b138d934870c1ff76", "id": "1f21bd7e-6f71-466a-9ee1-e738836b8af7", "created_at": "2025-01-06T16:25:29Z", "updated_at": "2025-01-06T16:25:30Z", "tags": [], "self": "/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7", "file": "/v2/images/1f21b
    d7e-6f71-466a-9ee1-e738836b8af7/file", "schema": "/v2/schemas/image"}'
2025-01-06 16:25:30,173 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 201 POST http://10.201.5.82/identity/v3/auth/tokens 0.032s
2025-01-06 16:25:30,173 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-type': 'application/json', 'content-length': '2937', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6a2ee3ac-6de8-471a-986c-4566901f534b', 'connection': 'close', 'status': '201', 'content-location': 'http://10.201.5.82/identity/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "dc338c4da58944a586fd14ad8d1dc663", "name": "tempest-ImageDependencyTests-25024730-project-member", "password_expires_at": null}, "audit_ids": ["41lIGqOhTieTwdoENi3VWw"], "expires_at": "2025-01-06T17:25:30.000000Z", "issued_at": "2025-01-06T16:25:30.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "874d9fba707643318e48d133729b7dc9", "name": "tempest-ImageDependencyTests-25024730"}, "is_domain": false, "roles": [{"id": "0b90d81d14024fdf9089921573fa5891", "name": "reader"}, {"id": "ccd9b8f1a43e49558c56268d63483537", "name": "member"}], "catalog": [{"endpoints": [{"id": "24a226c2bf704f97a40cd58c730fa645", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/compute/v2/874d9fba707643318e48d133729b7dc9", "region": "RegionOne"}], "id": "227225491ee0420da9aa720d8efd4307", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "9ebb02f3444543599098fc32596a0045", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82:9696/networking", "region": "RegionOne"}], "id": "3150116e650643aaab047775d06df1d7", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "9b1711cbcbf54cdb92957e77c26f0472", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/identity", "region": "RegionOne"}], "id": "7ff2c8d7e6a1437eb713e945e645f52b", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "0c54c287ae8847f49413104c03bc5678", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/placement", "region": "RegionOne"}], "id": "9359f35925584f979cf960dfb954251e", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "108ce00ab43b47869296dc2fe25a926a", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/volume/v3", "region": "RegionOne"}], "id": "9595b33f1fac4c599a6f2e1ce006dc5c", "type": "block-storage", "name": "cinder"}, {"endpoints": [{"id": "594d7b09c86a42f88526de1b8655a8c3", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82:8080/v1/AUTH_874d9fba707643318e48d133729b7dc9", "region": "RegionOne"}, {"id": "6f82d5ee4fbc44cfa305164bf6000104", "interface": "admin", "region_id": "RegionOne", "url": "http://10.201.5.82:8080", "region": "RegionOne"}], "id": "a4afea874db2466daa09473bd07cb0f0", "type": "object-store", "name": "swift"}, {"endpoints": [{"id": "1b1c8839db0b4139bea96cdf814def3c", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/image", "region": "RegionOne"}], "id": "d11dd9bcf3314c41a029f2559e8b97dc", "type": "image", "name": "glance"}, {"endpoints": [{"id": "bfd7966b04e24341b78c2400bea094e8", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/compute/v2.1", "region": "RegionOne"}], "id": "f0c69646ee6949da8a71111c3cd06d9c", "type": "compute", "name": "nova"}]}}'
2025-01-06 16:25:30,174 130700 INFO     [tempest.lib.common.fixed_network] (ImageDependencyTests:test_image_volume_server_snapshot_dependency) Found network None available for tenant
2025-01-06 16:25:30,176 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTe
    sts:test_image_volume_server_snapshot_dependency): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:25:30,176 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"name": "tempest-tempest.common.compute-volume-132622040", "imageRef": "1f21bd7e-6f71-466a-9ee1-e738836b8af7", "size": 1}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_backends_capabilities.py", line 31, in resource_setup
    cls.admin_scheduler_stats_client.list_pools()['pools']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/scheduler_stats_client.py", line 36, in list_pools
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest) ... SKIPPED: Attached encrypted volume extend is disabled.
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [0.002768s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 156, in test_create_group_from_group_snapshot
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:33,751 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsTest:test_create_group_from_group_snapshot): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:25:33,751 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsTest-volume-type-1004052397"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [0.004700s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/lib/decorators.py", line 106, in wrapper
    raise exc

      File "/opt/stack/tempest/tempest/lib/decorators.py", line 98, in wrapper
    return f(*func_args, **func_kwargs)

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 220, in test_delete_group_snapshots_following_updated_volumes
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:33,757 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsTest:test_delete_group_snapshots_following_updated_volumes): 500 POST http://10.201.5.82/volume/v3/types 0.004s
2025-01-06 16:25:33,757 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsTest-volume-type-1837689114"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'
2025-01-06 16:25:33,757 130700 ERROR    [tempest.lib.decorators] Hints: This test was made for the bug_type 1739031. The failure could be related to https://launchpad.net/bugs/1739031

{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [0.002136s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 86, in test_group_snapshot_create_show_list_delete
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:33,760 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsTest:test_group_snapshot_create_show_list_delete): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:25:33,760 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsTest-volume-type-1204881998"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status [0.003661s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 287, in test_reset_group_snapshot_status
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:35,765 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsV319Test:test_reset_group_snapshot_status): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:35,765 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsV319Test-volume-type-1731053681"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.005330s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_type_specs.py", line 31, in test_group_type_specs_create_show_update_list_delete
    group_type = self.create_group_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 397, in create_group_type
    group_type = self.admin_group_types_client.create_group_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/group_types_client.py", line 41, in create_group_type
    resp, body = self.post('group_types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:37,705 130700 INFO     [tempest.lib.common.rest_client] Request (GroupTypeSpecsTest:test_group_type_specs_create_show_update_list_delete): 500 POST http://10.201.5.82/volume/v3/group_types 0.002s
2025-01-06 16:25:37,706 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.11', 'X-Auth-Token': '<omitted>'}
        Body: {"group_type": {"name": "tempest-GroupTypeSpecsTest-group-type-1767858934"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/group_types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show_delete [0.002474s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_types.py", line 44, in test_group_type_create_list_update_show_delete
    body = self.admin_group_types_client.create_group_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/group_types_client.py", line 41, in create_group_type
    resp, body = self.post('group_types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:39,679 130700 INFO     [tempest.lib.common.rest_client] Request (GroupTypesTest:test_group_type_create_list_update_show_delete): 500 POST http://10.201.5.82/volume/v3/group_types 0.001s
2025-01-06 16:25:39,679 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.11', 'X-Auth-Token': '<omitted>'}
        Body: {"group_type": {"name": "tempest-GroupTypesTest-group-type-897621823", "description": "tempest-group-type-description-2023355843", "group_specs": {"consistent_group_snapshot_enabled": "<is> False"}, "is_public": true}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/group_types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_list_by_optional_params [0.004583s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_types.py", line 90, in test_group_type_list_by_optional_params
    self.create_group_type(name=type_a_name, **{'is_public': True})

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 397, in create_group_type
    group_type = self.admin_group_types_client.create_group_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/group_types_client.py", line 41, in create_group_type
    resp, body = self.post('group_types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:39,684 130700 INFO     [tempest.lib.common.rest_client] Request (GroupTypesTest:test_group_type_list_by_optional_params): 500 POST http://10.201.5.82/volume/v3/group_types 0.004s
2025-01-06 16:25:39,684 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.11', 'X-Auth-Token': '<omitted>'}
        Body: {"group_type": {"name": "a_tempest-group-type-626061480", "is_public": true}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/group_types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [0.003788s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 35, in test_group_create_show_list_delete
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:41,688 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsTest:test_group_create_show_list_delete): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:25:41,688 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsTest-volume-type-1592115955"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [0.001900s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 105, in test_group_update
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:41,692 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsTest:test_group_update): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:25:41,692 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsTest-volume-type-1663281641"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [0.005516s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 176, in test_create_group_from_group
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:43,692 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsV314Test:test_create_group_from_group): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:43,693 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsV314Test-volume-type-13475238"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [0.005335s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 221, in test_reset_group_status
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:45,832 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsV320Test:test_reset_group_status): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:45,833 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsV320Test-volume-type-1205245908"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} setUpClass (tempest.api.volume.admin.test_qos.QosSpecsTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_qos.py", line 40, in resource_setup
    cls.created_qos = cls.create_test_qos_specs(cls.qos_name,

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 355, in create_test_qos_specs
    qos_specs = self.admin_volume_qos_client.create_qos(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/qos_client.py", line 48, in create_qos
    resp, body = self.post('qos-specs', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{0} setUpClass (tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_snapshots_actions.py", line 38, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [0.005516s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 72, in test_delete_message
    message_id = self._create_user_message()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 42, in _create_user_message
    bogus_type = self.create_volume_type(

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:52,176 130700 INFO     [tempest.lib.common.rest_client] Request (UserMessagesTest:test_delete_message): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:52,177 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-UserMessagesTest-volume-type-578704012", "extra_specs": {"storage_protocol": "tempest-storage_protocol-1554934421", "vendor_name": "tempest-vendor_name-1665119640"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [0.003758s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 60, in test_list_show_messages
    message_id = self._create_user_message()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 42, in _create_user_message
    bogus_type = self.create_volume_type(

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:52,182 130700 INFO     [tempest.lib.common.rest_client] Request (UserMessagesTest:test_list_show_messages): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:25:52,183 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-UserMessagesTest-volume-type-363232718", "extra_specs": {"storage_protocol": "tempest-storage_protocol-429142724", "vendor_name": "tempest-vendor_name-1831493706"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.004814s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_hosts.py", line 26, in test_list_hosts
    hosts = self.admin_hosts_client.list_hosts()['hosts']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/hosts_client.py", line 38, in list_hosts
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:54,188 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeHostsAdminTestsJSON:test_list_hosts): 500 GET http://10.201.5.82/volume/v3/os-hosts 0.002s
2025-01-06 16:25:54,188 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-hosts'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.002852s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_hosts.py", line 34, in test_show_host
    hosts = self.admin_hosts_client.list_hosts()['hosts']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/hosts_client.py", line 38, in list_hosts
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:54,194 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeHostsAdminTestsJSON:test_show_host): 500 GET http://10.201.5.82/volume/v3/os-hosts 0.002s
2025-01-06 16:25:54,194 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-hosts'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_with_details [0.005889s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 44, in test_get_pools_with_details
    self._assert_pools(with_detail=True)

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 27, in _assert_pools
    cinder_pools = self.admin_scheduler_stats_client.list_pools(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/scheduler_stats_client.py", line 36, in list_pools
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:56,351 130700 INFO     [tempest.lib.common.rest_client] Request (VolumePoolsAdminTestsJSON:test_get_pools_with_details): 500 GET http://10.201.5.82/volume/v3/scheduler-stats/get_pools?detail=True 0.003s
2025-01-06 16:25:56,352 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/scheduler-stats/get_pools?detail=True'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.004150s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 39, in test_get_pools_without_details
    self._assert_pools()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 27, in _assert_pools
    cinder_pools = self.admin_scheduler_stats_client.list_pools(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/scheduler_stats_client.py", line 36, in list_pools
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:56,359 130700 INFO     [tempest.lib.common.rest_client] Request (VolumePoolsAdminTestsJSON:test_get_pools_without_details): 500 GET http://10.201.5.82/volume/v3/scheduler-stats/get_pools 0.003s
2025-01-06 16:25:56,359 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/scheduler-stats/get_pools'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.003070s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quota_classes.py", line 52, in test_show_default_quota
    default_quotas = self.admin_quota_classes_client.show_quota_class_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quota_classes_client.py", line 33, in show_quota_class_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:58,496 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotaClassesTest:test_show_default_quota): 500 GET http://10.201.5.82/volume/v3/os-quota-class-sets/default 0.001s
2025-01-06 16:25:58,496 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-quota-class-sets/default'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [0.002976s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quota_classes.py", line 64, in test_update_default_quota
    body = self.admin_quota_classes_client.show_quota_class_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quota_classes_client.py", line 33, in show_quota_class_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:58,498 130700 DEBUG    [tempest.api.volume.admin.test_volume_quota_classes] Get the current default quota class values
2025-01-06 16:25:58,500 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotaClassesTest:test_update_default_quota): 500 GET http://10.201.5.82/volume/v3/os-quota-class-sets/default 0.001s
2025-01-06 16:25:58,500 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-quota-class-sets/default'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas.py", line 52, in resource_setup
    original_quota_set = (cls.admin_quotas_client.show_quota_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quotas_client.py", line 43, in show_quota_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas_negative.py", line 42, in resource_setup
    original_quota_set = (cls.admin_quotas_client.show_quota_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quotas_client.py", line 43, in show_quota_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_retype.py", line 172, in resource_setup
    cls.src_vol_type = cls.create_volume_type('volume-type-1')

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_services.py", line 32, in resource_setup
    cls.services = (cls.admin_volume_services_client.list_services()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/services_client.py", line 44, in list_services
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_services_negative.py", line 27, in resource_setup
    services = cls.admin_volume_services_client.list_services()['services']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/services_client.py", line 44, in list_services
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py", line 48, in resource_setup
    original_quota_set = (cls.admin_quotas_client.show_quota_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quotas_client.py", line 43, in show_quota_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_add [0.011927s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_type_access.py", line 36, in test_volume_type_access_add
    volume_type = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))

{0} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.004834s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_type_access.py", line 60, in test_volume_type_access_list
    volume_type = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:14,267 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesAccessTest:test_volume_type_access_list): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:26:14,267 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesAccessTest-volume-type-212192633", "os-volume-type-access:is_public": false}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:14 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_crud_with_volume_type_and_extra_specs [0.005219s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 48, in test_volume_crud_with_volume_type_and_extra_specs
    vol_type = self.create_volume_type(

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,947 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_crud_with_volume_type_and_extra_specs): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:26:16,947 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-1895472589", "extra_specs": {"storage_protocol": "iSCSI", "vendor_name": "Nimble"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.002996s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 101, in test_volume_type_create_get_delete
    body = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,952 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_create_get_delete): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:16,952 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-1913933669", "description": "tempest-volume-type-description-416112306", "extra_specs": {"storage_protocol": "iSCSI", "vendor_name": "Nimble"}, "os-volume-type-access:is_public": true}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.002713s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 133, in test_volume_type_encryption_create_get_update_delete
    volume_type_id = self.create_volume_type()['id']

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,955 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_encryption_create_get_update_delete): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:16,956 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-971990554"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.001651s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 32, in test_volume_type_list
    self.admin_volume_types_client.list_volume_types()['volume_types']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 51, in list_volume_types
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,958 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_list): 500 GET http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:26:16,959 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.001793s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 190, in test_volume_type_update
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,961 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_update): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:26:16,961 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-39596889"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_extra_specs.py", line 27, in resource_setup
    cls.volume_type = cls.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_extra_specs_negative.py", line 29, in resource_setup
    cls.volume_type = cls.create_volume_type(extra_specs=extra_specs)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.002822s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 69, in test_create_volume_type_encryption_nonexistent_type_id
    self.assertRaises(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 377, in create_encryption_type
    self.admin_encryption_types_client.create_encryption_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/encryption_types_client.py", line 67, in create_encryption_type
    resp, body = self.post(url, post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,137 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_volume_type_encryption_nonexistent_type_id): 500 POST http://10.201.5.82/volume/v3/types/318a7cd2-57c8-48c6-9ae9-8eb6ff3d82d5/encryption 0.001s
2025-01-06 16:26:23,138 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"encryption": {"provider": "LuksEncryptor", "key_size": 256, "cipher": "aes-xts-plain64", "control_location": "front-end"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types/318a7cd2-57c8-48c6-9ae9-8eb6ff3d82d5/encryption'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_with_private_volume_type [0.002472s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 54, in test_create_volume_with_private_volume_type
    volume_type = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,141 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_volume_with_private_volume_type): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:23,141 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesNegativeTest-volume-type-1972307708", "os-volume-type-access:is_public": false}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.002350s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 29, in test_create_with_empty_name
    self.assertRaises(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,144 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_with_empty_name): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:23,144 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": ""}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.001764s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 77, in test_create_with_repeated_name
    volume_type_name = self.create_volume_type()['name']

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,147 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_with_repeated_name): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:26:23,147 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesNegativeTest-volume-type-558689127"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.002038s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 45, in test_delete_nonexistent_type_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 102, in delete_volume_type
    resp, body = self.delete("types/%s" % volume_type_id)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 359, in delete
    return self.request('DELETE', url, extra_headers, headers, body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,149 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_delete_nonexistent_type_id): 500 DELETE http://10.201.5.82/volume/v3/types/f2b7233d-2b90-4a37-a549-2bf82a15cb5d 0.001s
2025-01-06 16:26:23,150 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types/f2b7233d-2b90-4a37-a549-2bf82a15cb5d'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.001757s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 37, in test_get_nonexistent_type_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 64, in show_volume_type
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,152 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_get_nonexistent_type_id): 500 GET http://10.201.5.82/volume/v3/types/879a2b2e-5825-4ee7-842f-d52f7b979fec 0.001s
2025-01-06 16:26:23,152 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types/879a2b2e-5825-4ee7-842f-d52f7b979fec'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [0.004403s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 66, in test_volume_force_delete_when_volume_is_attaching
    self._create_reset_and_force_delete_temp_volume('attaching')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,937 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_attaching): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:28,938 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-372013929"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [0.003178s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 61, in test_volume_force_delete_when_volume_is_creating
    self._create_reset_and_force_delete_temp_volume('creating')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,943 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_creating): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:28,943 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-346209979"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [0.001645s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 71, in test_volume_force_delete_when_volume_is_error
    self._create_reset_and_force_delete_temp_volume('error')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,945 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_error): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:28,946 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-147393086"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [0.001572s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 76, in test_volume_force_delete_when_volume_is_maintenance
    self._create_reset_and_force_delete_temp_volume('maintenance')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,948 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_maintenance): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:28,948 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-965676858"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [0.001787s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 47, in test_volume_reset_status
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,950 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_reset_status): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:28,950 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-2005186204"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest.test_volume_backup_export_import [0.002474s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_backup.py", line 60, in test_volume_backup_export_import
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:32,895 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesBackupsAdminTest:test_volume_backup_export_import): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:32,896 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesBackupsAdminTest-Volume-2054092723"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest.test_volume_backup_reset_status [0.003999s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_backup.py", line 126, in test_volume_backup_reset_status
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:32,900 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesBackupsAdminTest:test_volume_backup_reset_status): 500 POST http://10.201.5.82/volume/v3/volumes 0.003s
2025-01-06 16:26:32,901 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesBackupsAdminTest-Volume-1581194207"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_list.py", line 35, in resource_setup
    cls.volume_list = cls.volumes_client.list_volumes()['volumes']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 81, in list_volumes
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.004301s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_availability_zone.py", line 27, in test_get_availability_zone_list
    self.availability_zone_client.list_availability_zones()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/availability_zone_client.py", line 24, in list_availability_zones
    resp, body = self.get('os-availability-zone')

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:36,596 130700 INFO     [tempest.lib.common.rest_client] Request (AvailabilityZoneTestJSON:test_get_availability_zone_list): 500 GET http://10.201.5.82/volume/v3/os-availability-zone 0.002s
2025-01-06 16:26:36,597 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:36 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-availability-zone'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.004619s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_extensions.py", line 34, in test_list_extensions
    extensions = (self.volumes_extension_client.list_extensions()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/extensions_client.py", line 27, in list_extensions
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:37,586 130700 INFO     [tempest.lib.common.rest_client] Request (ExtensionsTestJSON:test_list_extensions): 500 GET http://10.201.5.82/volume/v3/extensions 0.002s
2025-01-06 16:26:37,586 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/extensions'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_snapshot_metadata.py", line 38, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.005826s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_versions.py", line 29, in test_list_versions
    self.versions_client.list_versions()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/versions_client.py", line 39, in list_versions
    self._error_checker(resp, body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:39,612 130700 INFO     [tempest.lib.common.rest_client] Request (VersionsTest:test_list_versions): 500 GET http://10.201.5.82/volume/ 0.002s
2025-01-06 16:26:39,613 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_absolute_limits.py", line 37, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [0.005791s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_delete_cascade.py", line 68, in test_volume_delete_cascade
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:42,635 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesDeleteCascade:test_volume_delete_cascade): 500 POST http://10.201.5.82/volume/v3/volumes 0.003s
2025-01-06 16:26:42,635 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesDeleteCascade-Volume-1028507064"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:42 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.test_volume_metadata.VolumesMetadataTest) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_metadata.py", line 29, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [0.002959s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 40, in test_create_get_list_accept_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:45,702 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersTest:test_create_get_list_accept_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:45,702 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersTest-Volume-211974983"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [0.004381s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 81, in test_create_list_delete_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [0.005653s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 125, in test_create_get_list_accept_volume_transfer
    test_create_get_list_accept_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 40, in test_create_get_list_accept_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:48,651 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV355Test:test_create_get_list_accept_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.003s
2025-01-06 16:26:48,651 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.55', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV355Test-Volume-324706015"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [0.003088s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 131, in test_create_list_delete_volume_transfer
    test_create_list_delete_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 81, in test_create_list_delete_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:48,656 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV355Test:test_create_list_delete_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:48,656 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.55', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV355Test-Volume-897815202"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV357Test.test_create_get_list_accept_volume_transfer [0.002632s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 144, in test_create_get_list_accept_volume_transfer
    test_create_get_list_accept_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 125, in test_create_get_list_accept_volume_transfer
    test_create_get_list_accept_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 40, in test_create_get_list_accept_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:51,639 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV357Test:test_create_get_list_accept_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:51,639 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.57', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV357Test-Volume-1712874427"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV357Test.test_create_list_delete_volume_transfer [0.002810s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 150, in test_create_list_delete_volume_transfer
    test_create_list_delete_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 131, in test_create_list_delete_volume_transfer
    test_create_list_delete_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 81, in test_create_list_delete_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:51,642 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV357Test:test_create_list_delete_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:51,643 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.57', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV357Test-Volume-442950384"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_backup.VolumesBackupsTest.test_volume_backup_create_get_detailed_list_restore_delete [0.003025s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_backup.py", line 71, in test_volume_backup_create_get_detailed_list_restore_delete
    volume = self.create_volume(metadata=metadata)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:55,793 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesBackupsTest:test_volume_backup_create_get_detailed_list_restore_delete): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:55,794 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"metadata": {"vol-meta1": "value1", "vol-meta2": "value2", "vol-meta3": "value3"}, "size": 1, "name": "tempest-VolumesBackupsTest-Volume-26241655"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_backup.VolumesBackupsV39Test.test_update_backup [0.003289s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_backup.py", line 238, in test_update_backup
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))

{0} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [0.002644s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_clone.py", line 54, in test_create_from_volume
    src_vol = self.create_volume(size=src_size)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:58,788 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesCloneTest:test_create_from_volume): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:58,788 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesCloneTest-Volume-1316339161"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [0.002513s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_clone_negative.py", line 40, in test_create_from_volume_decreasing_size
    src_vol = self.create_volume(size=src_size)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:59,771 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesCloneNegativeTest:test_create_from_volume_decreasing_size): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:59,771 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 2, "name": "tempest-VolumesCloneNegativeTest-Volume-268009970"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest) ... SKIPPED: Attached volume extend is disabled.
{0} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [0.005544s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 125, in test_volume_create_get_update_delete
    self._volume_create_get_update_delete(size=CONF.volume.volume_size)

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 41, in _volume_create_get_update_delete
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))

{0} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [0.002971s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 143, in test_volume_create_get_update_delete_as_clone
    origin = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:00,811 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesGetTest:test_volume_create_get_update_delete_as_clone): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:27:00,812 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesGetTest-Volume-1839068849"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.004470s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 158, in test_show_volume_summary
    self.volumes_client.show_volume_summary()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 159, in show_volume_summary
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:01,813 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSummaryTest:test_show_volume_summary): 500 GET http://10.201.5.82/volume/v3/volumes/summary 0.002s
2025-01-06 16:27:01,813 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.12', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes/summary'}
        Body: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.test_volumes_list.VolumesListTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_list.py", line 82, in resource_setup
    existing_volumes = cls.volumes_client.list_volumes()['volumes']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 81, in list_volumes
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots.py", line 41, in resource_setup
    cls.volume_origin = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'

{0} setUpClass (tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_list.py", line 32, in resource_setup
    volume_origin = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))

{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.002604s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 38, in test_create_snapshot_with_nonexistent_volume_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 70, in create_snapshot
    resp, body = self.post('snapshots', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,674 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_create_snapshot_with_nonexistent_volume_id): 500 POST http://10.201.5.82/volume/v3/snapshots 0.001s
2025-01-06 16:27:08,675 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "a95448c6-a98c-4a60-bf76-13c661e387e3", "display_name": "tempest-VolumesSnapshotNegativeTestJSON-snap-1050324530"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.002364s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 51, in test_create_snapshot_without_passing_volume_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 70, in create_snapshot
    resp, body = self.post('snapshots', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,678 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_create_snapshot_without_passing_volume_id): 500 POST http://10.201.5.82/volume/v3/snapshots 0.001s
2025-01-06 16:27:08,678 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": null, "display_name": "tempest-VolumesSnapshotNegativeTestJSON-snap-1151164270"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.001991s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 78, in test_list_snapshot_invalid_param_limit
    self.assertRaises(lib_exc.BadRequest,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 44, in list_snapshots
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,681 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_list_snapshot_invalid_param_limit): 500 GET http://10.201.5.82/volume/v3/snapshots?limit=invalid 0.001s
2025-01-06 16:27:08,681 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots?limit=invalid'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.001916s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 94, in test_list_snapshots_invalid_param_marker
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 44, in list_snapshots
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,684 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_list_snapshots_invalid_param_marker): 500 GET http://10.201.5.82/volume/v3/snapshots?marker=8422ff45-dcc6-43b7-88ed-20cf1697f051 0.001s
2025-01-06 16:27:08,684 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots?marker=8422ff45-dcc6-43b7-88ed-20cf1697f051'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.002470s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 86, in test_list_snapshots_invalid_param_sort
    self.assertRaises(lib_exc.BadRequest,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 44, in list_snapshots
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,687 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_list_snapshots_invalid_param_sort): 500 GET http://10.201.5.82/volume/v3/snapshots?sort_key=invalid 0.002s
2025-01-06 16:27:08,687 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots?sort_key=invalid'}
        Body: b'Internal Server Error'

{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [0.002462s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 65, in test_volume_from_snapshot_decreasing_size
    src_vol = self.create_volume(size=src_size)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,690 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_volume_from_snapshot_decreasing_size): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:27:08,690 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 2, "name": "tempest-VolumesSnapshotNegativeTestJSON-Volume-388959392"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'

{0} tempest.scenario.test_shelve_instance.TestShelveInstance.test_shelve_volume_backed_instance ... SKIPPED: The public_network_id option must be specified.
{0} tempest.scenario.test_stamp_pattern.TestStampPattern.test_stamp_pattern ... SKIPPED: The public_network_id option must be specified.
{0} tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern ... SKIPPED: The public_network_id option must be specified.
{0} setUpClass (tempest.scenario.test_volume_migrate_attached.TestVolumeMigrateRetypeAttached) ... SKIPPED: Cinder multi-backend feature disabled

==============================
Failed 87 tests - output below:
==============================

tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete[id-cd4ec87d-7825-450d-8040-6e2068f2da8f]
---------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volume_snapshots.py", line 53, in test_volume_snapshot_create_get_list_delete
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 530, in create_volume
    volume = cls.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 69, in create_volume
    resp, body = self.post('os-volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:24,369 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotsTestJSON:test_volume_snapshot_create_get_list_delete): 500 POST http://10.201.5.82/compute/v2.1/os-volumes 0.176s
2025-01-06 16:25:24,369 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "display_name": "tempest-VolumesSnapshotsTestJSON-volume-1756529158"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:24 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-4abd1aa4-aeb2-4005-b5c9-cd11648e8260', 'x-compute-request-id': 'req-4abd1aa4-aeb2-4005-b5c9-cd11648e8260', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'


tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete[id-f10f25eb-9775-4d9d-9cbe-1cf54dae9d5f]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_get.py", line 55, in test_volume_create_get_delete
    volume = self.create_volume(size=CONF.volume.volume_size,

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 530, in create_volume
    volume = cls.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 69, in create_volume
    resp, body = self.post('os-volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:25,592 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesGetTestJSON:test_volume_create_get_delete): 500 POST http://10.201.5.82/compute/v2.1/os-volumes 0.146s
2025-01-06 16:25:25,592 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "display_name": "tempest-VolumesGetTestJSON-Volume-311285722", "metadata": {"Type": "work"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-e93e0649-58ca-46fa-ba85-6bda6725afc6', 'x-compute-request-id': 'req-e93e0649-58ca-46fa-ba85-6bda6725afc6', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'


setUpClass (tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON)
--------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_list.py", line 56, in resource_setup
    volume = cls.create_volume(metadata=metadata)

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 530, in create_volume
    volume = cls.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id[id-62972737-124b-4513-b6cf-2f019f178494,negative]
-----------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_negative.py", line 106, in test_delete_invalid_volume_id
    self.assertRaises(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 81, in delete_volume
    resp, body = self.delete("os-volumes/%s" % volume_id)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 359, in delete
    return self.request('DELETE', url, extra_headers, headers, body)

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:27,810 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_delete_invalid_volume_id): 500 DELETE http://10.201.5.82/compute/v2.1/os-volumes/tempest-invalid-554354669 0.013s
2025-01-06 16:25:27,810 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-27318d49-778e-4937-a0a6-9dcad7f1fdf2', 'x-compute-request-id': 'req-27318d49-778e-4937-a0a6-9dcad7f1fdf2', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes/tempest-invalid-554354669'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'


tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id[id-54a34226-d910-4b00-9ef8-8683e6c55846,negative]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_negative.py", line 60, in test_volume_delete_nonexistent_volume_id
    self.assertRaises(lib_exc.NotFound, self.client.delete_volume,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 81, in delete_volume
    resp, body = self.delete("os-volumes/%s" % volume_id)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 359, in delete
    return self.request('DELETE', url, extra_headers, headers, body)

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:27,838 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_volume_delete_nonexistent_volume_id): 500 DELETE http://10.201.5.82/compute/v2.1/os-volumes/d17afa53-65c7-489f-916c-db838b6723a5 0.010s
2025-01-06 16:25:27,838 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-1fee2e69-3c8a-4d48-a2d3-90008a6936e1', 'x-compute-request-id': 'req-1fee2e69-3c8a-4d48-a2d3-90008a6936e1', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes/d17afa53-65c7-489f-916c-db838b6723a5'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'


tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id[id-c03ea686-905b-41a2-8748-9635154b7c57,negative]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/compute/volumes/test_volumes_negative.py", line 51, in test_volume_get_nonexistent_volume_id
    self.assertRaises(lib_exc.NotFound, self.client.show_volume,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/compute/volumes_client.py", line 56, in show_volume
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/compute/base_compute_client.py", line 47, in request
    resp, resp_body = super(BaseComputeClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.
<class 'cinderclient.exceptions.ClientException'>


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:27,849 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_volume_get_nonexistent_volume_id): 500 GET http://10.201.5.82/compute/v2.1/os-volumes/ff41b3fa-f616-4ee6-9c47-c8efd78afedd 0.009s
2025-01-06 16:25:27,849 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'content-type': 'application/json; charset=UTF-8', 'content-length': '213', 'x-openstack-request-id': 'req-dfdd19a8-5b9f-4956-b7a4-84a2b98f6100', 'x-compute-request-id': 'req-dfdd19a8-5b9f-4956-b7a4-84a2b98f6100', 'connection': 'close', 'status': '500', 'content-location': 'http://10.201.5.82/compute/v2.1/os-volumes/ff41b3fa-f616-4ee6-9c47-c8efd78afedd'}
        Body: b'{"computeFault": {"code": 500, "message": "Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\\n<class \'cinderclient.exceptions.ClientException\'>"}}'


tempest.api.image.v2.test_images_dependency.ImageDependencyTests.test_image_volume_server_snapshot_dependency[compute,id-f0c8a35d-8f8f-443c-8bcb-85a9c0f87d19,volume]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/common/utils/__init__.py", line 65, in wrapper
    return f(*func_args, **func_kwargs)

      File "/opt/stack/tempest/tempest/api/image/v2/test_images_dependency.py", line 128, in test_image_volume_server_snapshot_dependency
    base_image_id, snapshot_image_id = self._create_instance_snapshot(

      File "/opt/stack/tempest/tempest/api/image/v2/test_images_dependency.py", line 77, in _create_instance_snapshot
    instance = self.create_test_server(

      File "/opt/stack/tempest/tempest/api/compute/base.py", line 243, in create_test_server
    body, servers = compute.create_test_server(

      File "/opt/stack/tempest/tempest/common/compute.py", line 258, in create_test_server
    volume = volumes_client.create_volume(**params)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:29,277 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 201 POST http://10.201.5.82/image/v2/images 0.362s
2025-01-06 16:25:29,278 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"name": "tempest-image-dependency-test-1765552529", "container_format": "bare", "disk_format": "raw", "visibility": "private"}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '648', 'content-type': 'application/json', 'location': 'http://127.0.0.1:60999/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7', 'openstack-image-import-methods': 'glance-direct,web-download,copy-image', 'x-openstack-request-id': 'req-fd4a896f-bcf6-4e6f-9c4a-fa6483fcf5e9', 'connection': 'close', 'status': '201', 'content-location': 'http://10.201.5.82/image/v2/images'}
        Body: b'{"name": "tempest-image-dependency-test-1765552529", "disk_format": "raw", "container_format": "bare", "visibility": "private", "size": null, "virtual_size": null, "status": "queued", "checksum": null, "protected": false, "min_ram": 0, "min_disk": 0, "owner": "874d9fba707643318e48d133729b7dc9", "os_hidden": false, "os_hash_algo": null, "os_hash_value": null, "id": "1f21bd7e-6f71-466a-9ee1-e738836b8af7", "created_at": "2025-01-06T16:25:29Z", "updated_at": "2025-01-06T16:25:29Z", "tags": [], "self": "/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7", "file": "/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7/file", "schema": "/v2/schemas/image"}'
2025-01-06 16:25:30,118 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 204 PUT http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7/file 0.839s
2025-01-06 16:25:30,119 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/octet-stream', 'X-Auth-Token': '<omitted>'}
        Body: <callable_iterator object at 0x7f0aa801b520>
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:29 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-type': 'text/html; charset=UTF-8', 'x-openstack-request-id': 'req-058afc94-b1bd-41da-bdd7-03c9bcd54458', 'connection': 'close', 'status': '204', 'content-location': 'http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7/file'}
        Body: b''
2025-01-06 16:25:30,137 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 200 GET http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7 0.018s
2025-01-06 16:25:30,137 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '808', 'content-type': 'application/json', 'x-openstack-request-id': 'req-6167f5d9-af9a-4b64-8587-ab360f3d44c4', 'connection': 'close', 'status': '200', 'content-location': 'http://10.201.5.82/image/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7'}
        Body: b'{"name": "tempest-image-dependency-test-1765552529", "disk_format": "raw", "container_format": "bare", "visibility": "private", "size": 1024, "virtual_size": 1024, "status": "active", "checksum": "6e5b3e089d97f5a24b9be583483f189a", "protected": false, "min_ram": 0, "min_disk": 0, "owner": "874d9fba707643318e48d133729b7dc9", "os_hidden": false, "os_hash_algo": "sha512", "os_hash_value": "107cd2c0de5d823bdbbe034e91133b194ba9841d215fcc8f6655b19a446d0fdd4ef7112d4e0b57398404e8e81fdfa728ebcd2f13ac18ac2b138d934870c1ff76", "id": "1f21bd7e-6f71-466a-9ee1-e738836b8af7", "created_at": "2025-01-06T16:25:29Z", "updated_at": "2025-01-06T16:25:30Z", "tags": [], "self": "/v2/images/1f21bd7e-6f71-466a-9ee1-e738836b8af7", "file": "/v2/images/1f21b
    d7e-6f71-466a-9ee1-e738836b8af7/file", "schema": "/v2/schemas/image"}'
2025-01-06 16:25:30,173 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTests:test_image_volume_server_snapshot_dependency): 201 POST http://10.201.5.82/identity/v3/auth/tokens 0.032s
2025-01-06 16:25:30,173 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-type': 'application/json', 'content-length': '2937', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6a2ee3ac-6de8-471a-986c-4566901f534b', 'connection': 'close', 'status': '201', 'content-location': 'http://10.201.5.82/identity/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "dc338c4da58944a586fd14ad8d1dc663", "name": "tempest-ImageDependencyTests-25024730-project-member", "password_expires_at": null}, "audit_ids": ["41lIGqOhTieTwdoENi3VWw"], "expires_at": "2025-01-06T17:25:30.000000Z", "issued_at": "2025-01-06T16:25:30.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "874d9fba707643318e48d133729b7dc9", "name": "tempest-ImageDependencyTests-25024730"}, "is_domain": false, "roles": [{"id": "0b90d81d14024fdf9089921573fa5891", "name": "reader"}, {"id": "ccd9b8f1a43e49558c56268d63483537", "name": "member"}], "catalog": [{"endpoints": [{"id": "24a226c2bf704f97a40cd58c730fa645", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/compute/v2/874d9fba707643318e48d133729b7dc9", "region": "RegionOne"}], "id": "227225491ee0420da9aa720d8efd4307", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "9ebb02f3444543599098fc32596a0045", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82:9696/networking", "region": "RegionOne"}], "id": "3150116e650643aaab047775d06df1d7", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "9b1711cbcbf54cdb92957e77c26f0472", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/identity", "region": "RegionOne"}], "id": "7ff2c8d7e6a1437eb713e945e645f52b", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "0c54c287ae8847f49413104c03bc5678", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/placement", "region": "RegionOne"}], "id": "9359f35925584f979cf960dfb954251e", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "108ce00ab43b47869296dc2fe25a926a", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/volume/v3", "region": "RegionOne"}], "id": "9595b33f1fac4c599a6f2e1ce006dc5c", "type": "block-storage", "name": "cinder"}, {"endpoints": [{"id": "594d7b09c86a42f88526de1b8655a8c3", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82:8080/v1/AUTH_874d9fba707643318e48d133729b7dc9", "region": "RegionOne"}, {"id": "6f82d5ee4fbc44cfa305164bf6000104", "interface": "admin", "region_id": "RegionOne", "url": "http://10.201.5.82:8080", "region": "RegionOne"}], "id": "a4afea874db2466daa09473bd07cb0f0", "type": "object-store", "name": "swift"}, {"endpoints": [{"id": "1b1c8839db0b4139bea96cdf814def3c", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/image", "region": "RegionOne"}], "id": "d11dd9bcf3314c41a029f2559e8b97dc", "type": "image", "name": "glance"}, {"endpoints": [{"id": "bfd7966b04e24341b78c2400bea094e8", "interface": "public", "region_id": "RegionOne", "url": "http://10.201.5.82/compute/v2.1", "region": "RegionOne"}], "id": "f0c69646ee6949da8a71111c3cd06d9c", "type": "compute", "name": "nova"}]}}'
2025-01-06 16:25:30,174 130700 INFO     [tempest.lib.common.fixed_network] (ImageDependencyTests:test_image_volume_server_snapshot_dependency) Found network None available for tenant
2025-01-06 16:25:30,176 130700 INFO     [tempest.lib.common.rest_client] Request (ImageDependencyTe
    sts:test_image_volume_server_snapshot_dependency): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:25:30,176 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"name": "tempest-tempest.common.compute-volume-132622040", "imageRef": "1f21bd7e-6f71-466a-9ee1-e738836b8af7", "size": 1}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON)
---------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_backends_capabilities.py", line 31, in resource_setup
    cls.admin_scheduler_stats_client.list_pools()['pools']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/scheduler_stats_client.py", line 36, in list_pools
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot[id-eff52c70-efc7-45ed-b47a-4ad675d09b81]
-----------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 156, in test_create_group_from_group_snapshot
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:33,751 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsTest:test_create_group_from_group_snapshot): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:25:33,751 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsTest-volume-type-1004052397"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes[id-7d7fc000-0b4c-4376-a372-544116d2e127]
---------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/lib/decorators.py", line 106, in wrapper
    raise exc

      File "/opt/stack/tempest/tempest/lib/decorators.py", line 98, in wrapper
    return f(*func_args, **func_kwargs)

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 220, in test_delete_group_snapshots_following_updated_volumes
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:33,757 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsTest:test_delete_group_snapshots_following_updated_volumes): 500 POST http://10.201.5.82/volume/v3/types 0.004s
2025-01-06 16:25:33,757 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsTest-volume-type-1837689114"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'
2025-01-06 16:25:33,757 130700 ERROR    [tempest.lib.decorators] Hints: This test was made for the bug_type 1739031. The failure could be related to https://launchpad.net/bugs/1739031


tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete[id-1298e537-f1f0-47a3-a1dd-8adec8168897]
-----------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 86, in test_group_snapshot_create_show_list_delete
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:33,760 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsTest:test_group_snapshot_create_show_list_delete): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:25:33,760 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsTest-volume-type-1204881998"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status[id-3b42c9b9-c984-4444-816e-ca2e1ed30b40]
----------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_snapshots.py", line 287, in test_reset_group_snapshot_status
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:35,765 130700 INFO     [tempest.lib.common.rest_client] Request (GroupSnapshotsV319Test:test_reset_group_snapshot_status): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:35,765 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupSnapshotsV319Test-volume-type-1731053681"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete[id-bb4e30d0-de6e-4f4d-866c-dcc48d023b4e]
---------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_type_specs.py", line 31, in test_group_type_specs_create_show_update_list_delete
    group_type = self.create_group_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 397, in create_group_type
    group_type = self.admin_group_types_client.create_group_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/group_types_client.py", line 41, in create_group_type
    resp, body = self.post('group_types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:37,705 130700 INFO     [tempest.lib.common.rest_client] Request (GroupTypeSpecsTest:test_group_type_specs_create_show_update_list_delete): 500 POST http://10.201.5.82/volume/v3/group_types 0.002s
2025-01-06 16:25:37,706 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.11', 'X-Auth-Token': '<omitted>'}
        Body: {"group_type": {"name": "tempest-GroupTypeSpecsTest-group-type-1767858934"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/group_types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show_delete[id-dd71e5f9-393e-4d4f-90e9-fa1b8d278864]
------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_types.py", line 44, in test_group_type_create_list_update_show_delete
    body = self.admin_group_types_client.create_group_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/group_types_client.py", line 41, in create_group_type
    resp, body = self.post('group_types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:39,679 130700 INFO     [tempest.lib.common.rest_client] Request (GroupTypesTest:test_group_type_create_list_update_show_delete): 500 POST http://10.201.5.82/volume/v3/group_types 0.001s
2025-01-06 16:25:39,679 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.11', 'X-Auth-Token': '<omitted>'}
        Body: {"group_type": {"name": "tempest-GroupTypesTest-group-type-897621823", "description": "tempest-group-type-description-2023355843", "group_specs": {"consistent_group_snapshot_enabled": "<is> False"}, "is_public": true}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/group_types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_list_by_optional_params[id-3d5e5cec-72b4-4511-b135-7cc2b7a053ae]
-----------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_group_types.py", line 90, in test_group_type_list_by_optional_params
    self.create_group_type(name=type_a_name, **{'is_public': True})

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 397, in create_group_type
    group_type = self.admin_group_types_client.create_group_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/group_types_client.py", line 41, in create_group_type
    resp, body = self.post('group_types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:39,684 130700 INFO     [tempest.lib.common.rest_client] Request (GroupTypesTest:test_group_type_list_by_optional_params): 500 POST http://10.201.5.82/volume/v3/group_types 0.004s
2025-01-06 16:25:39,684 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.11', 'X-Auth-Token': '<omitted>'}
        Body: {"group_type": {"name": "a_tempest-group-type-626061480", "is_public": true}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/group_types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete[id-4b111d28-b73d-4908-9bd2-03dc2992e4d4]
---------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 35, in test_group_create_show_list_delete
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:41,688 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsTest:test_group_create_show_list_delete): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:25:41,688 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsTest-volume-type-1592115955"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_groups.GroupsTest.test_group_update[id-4a8a6fd2-8b3b-4641-8f54-6a6f99320006]
----------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 105, in test_group_update
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:41,692 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsTest:test_group_update): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:25:41,692 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsTest-volume-type-1663281641"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group[id-2424af8c-7851-4888-986a-794b10c3210e]
-------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 176, in test_create_group_from_group
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:43,692 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsV314Test:test_create_group_from_group): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:43,693 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsV314Test-volume-type-13475238"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status[id-b20c696b-0cbc-49a5-8b3a-b1fb9338f45c]
--------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_groups.py", line 221, in test_reset_group_status
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:45,832 130700 INFO     [tempest.lib.common.rest_client] Request (GroupsV320Test:test_reset_group_status): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:45,833 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-GroupsV320Test-volume-type-1205245908"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_qos.QosSpecsTestJSON)
---------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_qos.py", line 40, in resource_setup
    cls.created_qos = cls.create_test_qos_specs(cls.qos_name,

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 355, in create_test_qos_specs
    qos_specs = self.admin_volume_qos_client.create_qos(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/qos_client.py", line 48, in create_qos
    resp, body = self.post('qos-specs', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest)
---------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_snapshots_actions.py", line 38, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message[id-c6eb6901-cdcc-490f-b735-4fe251842aed]
-------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 72, in test_delete_message
    message_id = self._create_user_message()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 42, in _create_user_message
    bogus_type = self.create_volume_type(

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:52,176 130700 INFO     [tempest.lib.common.rest_client] Request (UserMessagesTest:test_delete_message): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:25:52,177 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-UserMessagesTest-volume-type-578704012", "extra_specs": {"storage_protocol": "tempest-storage_protocol-1554934421", "vendor_name": "tempest-vendor_name-1665119640"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages[id-50f29e6e-f363-42e1-8ad1-f67ae7fd4d5a]
-----------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 60, in test_list_show_messages
    message_id = self._create_user_message()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_user_messages.py", line 42, in _create_user_message
    bogus_type = self.create_volume_type(

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:52,182 130700 INFO     [tempest.lib.common.rest_client] Request (UserMessagesTest:test_list_show_messages): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:25:52,183 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-UserMessagesTest-volume-type-363232718", "extra_specs": {"storage_protocol": "tempest-storage_protocol-429142724", "vendor_name": "tempest-vendor_name-1831493706"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts[id-d5f3efa2-6684-4190-9ced-1c2f526352ad]
-----------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_hosts.py", line 26, in test_list_hosts
    hosts = self.admin_hosts_client.list_hosts()['hosts']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/hosts_client.py", line 38, in list_hosts
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:54,188 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeHostsAdminTestsJSON:test_list_hosts): 500 GET http://10.201.5.82/volume/v3/os-hosts 0.002s
2025-01-06 16:25:54,188 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-hosts'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host[id-21168d57-b373-4b71-a3ac-f2c88f0c5d31]
----------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_hosts.py", line 34, in test_show_host
    hosts = self.admin_hosts_client.list_hosts()['hosts']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/hosts_client.py", line 38, in list_hosts
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:54,194 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeHostsAdminTestsJSON:test_show_host): 500 GET http://10.201.5.82/volume/v3/os-hosts 0.002s
2025-01-06 16:25:54,194 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-hosts'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_with_details[id-d4bb61f7-762d-4437-b8a4-5785759a0ced]
-----------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 44, in test_get_pools_with_details
    self._assert_pools(with_detail=True)

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 27, in _assert_pools
    cinder_pools = self.admin_scheduler_stats_client.list_pools(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/scheduler_stats_client.py", line 36, in list_pools
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:56,351 130700 INFO     [tempest.lib.common.rest_client] Request (VolumePoolsAdminTestsJSON:test_get_pools_with_details): 500 GET http://10.201.5.82/volume/v3/scheduler-stats/get_pools?detail=True 0.003s
2025-01-06 16:25:56,352 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/scheduler-stats/get_pools?detail=True'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details[id-0248a46c-e226-4933-be10-ad6fca8227e7]
--------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 39, in test_get_pools_without_details
    self._assert_pools()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_pools.py", line 27, in _assert_pools
    cinder_pools = self.admin_scheduler_stats_client.list_pools(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/scheduler_stats_client.py", line 36, in list_pools
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:56,359 130700 INFO     [tempest.lib.common.rest_client] Request (VolumePoolsAdminTestsJSON:test_get_pools_without_details): 500 GET http://10.201.5.82/volume/v3/scheduler-stats/get_pools 0.003s
2025-01-06 16:25:56,359 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/scheduler-stats/get_pools'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota[id-abb9198e-67d0-4b09-859f-4f4a1418f176]
------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quota_classes.py", line 52, in test_show_default_quota
    default_quotas = self.admin_quota_classes_client.show_quota_class_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quota_classes_client.py", line 33, in show_quota_class_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:58,496 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotaClassesTest:test_show_default_quota): 500 GET http://10.201.5.82/volume/v3/os-quota-class-sets/default 0.001s
2025-01-06 16:25:58,496 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-quota-class-sets/default'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota[id-a7644c63-2669-467a-b00e-452dd5c5397b]
--------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quota_classes.py", line 64, in test_update_default_quota
    body = self.admin_quota_classes_client.show_quota_class_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quota_classes_client.py", line 33, in show_quota_class_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:25:58,498 130700 DEBUG    [tempest.api.volume.admin.test_volume_quota_classes] Get the current default quota class values
2025-01-06 16:25:58,500 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotaClassesTest:test_update_default_quota): 500 GET http://10.201.5.82/volume/v3/os-quota-class-sets/default 0.001s
2025-01-06 16:25:58,500 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:25:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-quota-class-sets/default'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON)
----------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas.py", line 52, in resource_setup
    original_quota_set = (cls.admin_quotas_client.show_quota_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quotas_client.py", line 43, in show_quota_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON)
----------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas_negative.py", line 42, in resource_setup
    original_quota_set = (cls.admin_quotas_client.show_quota_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quotas_client.py", line 43, in show_quota_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest)
-----------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_retype.py", line 172, in resource_setup
    cls.src_vol_type = cls.create_volume_type('volume-type-1')

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON)
----------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_services.py", line 32, in resource_setup
    cls.services = (cls.admin_volume_services_client.list_services()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/services_client.py", line 44, in list_services
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest)
----------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_services_negative.py", line 27, in resource_setup
    services = cls.admin_volume_services_client.list_services()['services']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/services_client.py", line 44, in list_services
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON)
---------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py", line 48, in resource_setup
    original_quota_set = (cls.admin_quotas_client.show_quota_set(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/quotas_client.py", line 43, in show_quota_set
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_add[id-d4dd0027-835f-4554-a6e5-50903fb79184]
-------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_type_access.py", line 36, in test_volume_type_access_add
    volume_type = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))


tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list[id-5220eb28-a435-43ce-baaf-ed46f0e95159]
--------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_type_access.py", line 60, in test_volume_type_access_list
    volume_type = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:14,267 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesAccessTest:test_volume_type_access_list): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:26:14,267 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesAccessTest-volume-type-212192633", "os-volume-type-access:is_public": false}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:14 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_crud_with_volume_type_and_extra_specs[id-c03cc62c-f4e9-4623-91ec-64ce2f9c1260]
-----------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 48, in test_volume_crud_with_volume_type_and_extra_specs
    vol_type = self.create_volume_type(

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,947 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_crud_with_volume_type_and_extra_specs): 500 POST http://10.201.5.82/volume/v3/types 0.003s
2025-01-06 16:26:16,947 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-1895472589", "extra_specs": {"storage_protocol": "iSCSI", "vendor_name": "Nimble"}}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete[id-4e955c3b-49db-4515-9590-0c99f8e471ad]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 101, in test_volume_type_create_get_delete
    body = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,952 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_create_get_delete): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:16,952 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-1913933669", "description": "tempest-volume-type-description-416112306", "extra_specs": {"storage_protocol": "iSCSI", "vendor_name": "Nimble"}, "os-volume-type-access:is_public": true}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete[id-7830abd0-ff99-4793-a265-405684a54d46]
--------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 133, in test_volume_type_encryption_create_get_update_delete
    volume_type_id = self.create_volume_type()['id']

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,955 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_encryption_create_get_update_delete): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:16,956 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-971990554"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list[id-9d9b28e3-1b2e-4483-a2cc-24aa0ea1de54]
-------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 32, in test_volume_type_list
    self.admin_volume_types_client.list_volume_types()['volume_types']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 51, in list_volume_types
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,958 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_list): 500 GET http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:26:16,959 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update[id-cf9f07c6-db9e-4462-a243-5933ad65e9c8]
---------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types.py", line 190, in test_volume_type_update
    volume_type = self.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:16,961 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesTest:test_volume_type_update): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:26:16,961 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesTest-volume-type-39596889"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest)
---------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_extra_specs.py", line 27, in resource_setup
    cls.volume_type = cls.create_volume_type()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest)
---------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_extra_specs_negative.py", line 29, in resource_setup
    cls.volume_type = cls.create_volume_type(extra_specs=extra_specs)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id[id-a5924b5f-b6c1-49ba-994c-b4af55d26e52,negative]
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 69, in test_create_volume_type_encryption_nonexistent_type_id
    self.assertRaises(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 377, in create_encryption_type
    self.admin_encryption_types_client.create_encryption_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/encryption_types_client.py", line 67, in create_encryption_type
    resp, body = self.post(url, post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,137 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_volume_type_encryption_nonexistent_type_id): 500 POST http://10.201.5.82/volume/v3/types/318a7cd2-57c8-48c6-9ae9-8eb6ff3d82d5/encryption 0.001s
2025-01-06 16:26:23,138 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"encryption": {"provider": "LuksEncryptor", "key_size": 256, "cipher": "aes-xts-plain64", "control_location": "front-end"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types/318a7cd2-57c8-48c6-9ae9-8eb6ff3d82d5/encryption'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_with_private_volume_type[id-8c09f849-f225-4d78-ba87-bffd9a5e0c6f,negative]
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 54, in test_create_volume_with_private_volume_type
    volume_type = self.create_volume_type(**params)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,141 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_volume_with_private_volume_type): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:23,141 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesNegativeTest-volume-type-1972307708", "os-volume-type-access:is_public": false}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name[id-878b4e57-faa2-4659-b0d1-ce740a06ae81,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 29, in test_create_with_empty_name
    self.assertRaises(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,144 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_with_empty_name): 500 POST http://10.201.5.82/volume/v3/types 0.002s
2025-01-06 16:26:23,144 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": ""}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name[id-969b10c7-3d77-4e1b-a4f2-2d265980f7e5,negative]
------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 77, in test_create_with_repeated_name
    volume_type_name = self.create_volume_type()['name']

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 366, in create_volume_type
    volume_type = self.admin_volume_types_client.create_volume_type(

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 90, in create_volume_type
    resp, body = self.post('types', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,147 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_create_with_repeated_name): 500 POST http://10.201.5.82/volume/v3/types 0.001s
2025-01-06 16:26:23,147 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume_type": {"name": "tempest-VolumeTypesNegativeTest-volume-type-558689127"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id[id-6b3926d2-7d73-4896-bc3d-e42dfd11a9f6,negative]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 45, in test_delete_nonexistent_type_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 102, in delete_volume_type
    resp, body = self.delete("types/%s" % volume_type_id)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 359, in delete
    return self.request('DELETE', url, extra_headers, headers, body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,149 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_delete_nonexistent_type_id): 500 DELETE http://10.201.5.82/volume/v3/types/f2b7233d-2b90-4a37-a549-2bf82a15cb5d 0.001s
2025-01-06 16:26:23,150 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types/f2b7233d-2b90-4a37-a549-2bf82a15cb5d'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id[id-994610d6-0476-4018-a644-a2602ef5d4aa,negative]
----------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_types_negative.py", line 37, in test_get_nonexistent_type_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/types_client.py", line 64, in show_volume_type
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:23,152 130700 INFO     [tempest.lib.common.rest_client] Request (VolumeTypesNegativeTest:test_get_nonexistent_type_id): 500 GET http://10.201.5.82/volume/v3/types/879a2b2e-5825-4ee7-842f-d52f7b979fec 0.001s
2025-01-06 16:26:23,152 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/types/879a2b2e-5825-4ee7-842f-d52f7b979fec'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching[id-db8d607a-aa2e-4beb-b51d-d4005c232011]
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 66, in test_volume_force_delete_when_volume_is_attaching
    self._create_reset_and_force_delete_temp_volume('attaching')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,937 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_attaching): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:28,938 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-372013929"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating[id-21737d5a-92f2-46d7-b009-a0cc0ee7a570]
----------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 61, in test_volume_force_delete_when_volume_is_creating
    self._create_reset_and_force_delete_temp_volume('creating')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,943 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_creating): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:28,943 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-346209979"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error[id-3e33a8a8-afd4-4d64-a86b-c27a185c5a4a]
-------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 71, in test_volume_force_delete_when_volume_is_error
    self._create_reset_and_force_delete_temp_volume('error')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,945 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_error): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:28,946 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-147393086"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance[id-b957cabd-1486-4e21-90cf-a9ed3c39dfb2]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 76, in test_volume_force_delete_when_volume_is_maintenance
    self._create_reset_and_force_delete_temp_volume('maintenance')

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 32, in _create_reset_and_force_delete_temp_volume
    temp_volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,948 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_force_delete_when_volume_is_maintenance): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:28,948 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-965676858"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status[id-d063f96e-a2e0-4f34-8b8a-395c42de1845]
----------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_actions.py", line 47, in test_volume_reset_status
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:28,950 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_volume_reset_status): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:28,950 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesActionsTest-Volume-2005186204"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest.test_volume_backup_export_import[id-a99c54a1-dd80-4724-8a13-13bf58d4068d]
----------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_backup.py", line 60, in test_volume_backup_export_import
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:32,895 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesBackupsAdminTest:test_volume_backup_export_import): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:32,896 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesBackupsAdminTest-Volume-2054092723"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest.test_volume_backup_reset_status[id-47a35425-a891-4e13-961c-c45deea21e94]
---------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_backup.py", line 126, in test_volume_backup_reset_status
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:32,900 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesBackupsAdminTest:test_volume_backup_reset_status): 500 POST http://10.201.5.82/volume/v3/volumes 0.003s
2025-01-06 16:26:32,901 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesBackupsAdminTest-Volume-1581194207"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON)
--------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volumes_list.py", line 35, in resource_setup
    cls.volume_list = cls.volumes_client.list_volumes()['volumes']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 81, in list_volumes
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list[id-01f1ae88-eba9-4c6b-a011-6f7ace06b725]
-------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_availability_zone.py", line 27, in test_get_availability_zone_list
    self.availability_zone_client.list_availability_zones()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/availability_zone_client.py", line 24, in list_availability_zones
    resp, body = self.get('os-availability-zone')

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:36,596 130700 INFO     [tempest.lib.common.rest_client] Request (AvailabilityZoneTestJSON:test_get_availability_zone_list): 500 GET http://10.201.5.82/volume/v3/os-availability-zone 0.002s
2025-01-06 16:26:36,597 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:36 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/os-availability-zone'}
        Body: b'Internal Server Error'


tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions[id-94607eb0-43a5-47ca-82aa-736b41bd2e2c]
-------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_extensions.py", line 34, in test_list_extensions
    extensions = (self.volumes_extension_client.list_extensions()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/extensions_client.py", line 27, in list_extensions
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:37,586 130700 INFO     [tempest.lib.common.rest_client] Request (ExtensionsTestJSON:test_list_extensions): 500 GET http://10.201.5.82/volume/v3/extensions 0.002s
2025-01-06 16:26:37,586 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/extensions'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON)
-------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_snapshot_metadata.py", line 38, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.test_versions.VersionsTest.test_list_versions[id-77838fc4-b49b-4c64-9533-166762517369,smoke]
---------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_versions.py", line 29, in test_list_versions
    self.versions_client.list_versions()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/versions_client.py", line 39, in list_versions
    self._error_checker(resp, body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:39,612 130700 INFO     [tempest.lib.common.rest_client] Request (VersionsTest:test_list_versions): 500 GET http://10.201.5.82/volume/ 0.002s
2025-01-06 16:26:39,613 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests)
-------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_absolute_limits.py", line 37, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade[id-994e2d40-de37-46e8-b328-a58fba7e4a95]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_delete_cascade.py", line 68, in test_volume_delete_cascade
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:42,635 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesDeleteCascade:test_volume_delete_cascade): 500 POST http://10.201.5.82/volume/v3/volumes 0.003s
2025-01-06 16:26:42,635 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesDeleteCascade-Volume-1028507064"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:42 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.test_volume_metadata.VolumesMetadataTest)
------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_metadata.py", line 29, in resource_setup
    cls.volume = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer[id-4d75b645-a478-48b1-97c8-503f64242f1a]
--------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 40, in test_create_get_list_accept_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:45,702 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersTest:test_create_get_list_accept_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:45,702 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersTest-Volume-211974983"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer[id-ab526943-b725-4c07-b875-8e8ef87a2c30]
----------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 81, in test_create_list_delete_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))


tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer[id-9f36bb2b-619f-4507-b246-76aeb9a28851]
------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 125, in test_create_get_list_accept_volume_transfer
    test_create_get_list_accept_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 40, in test_create_get_list_accept_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:48,651 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV355Test:test_create_get_list_accept_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.003s
2025-01-06 16:26:48,651 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.55', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV355Test-Volume-324706015"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer[id-af4a5b97-0859-4f31-aa3c-85b05bb63322]
--------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 131, in test_create_list_delete_volume_transfer
    test_create_list_delete_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 81, in test_create_list_delete_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:48,656 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV355Test:test_create_list_delete_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:48,656 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.55', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV355Test-Volume-897815202"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volume_transfers.VolumesTransfersV357Test.test_create_get_list_accept_volume_transfer[id-d746bd69-bb30-4414-9a1c-577959fac6a1]
------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 144, in test_create_get_list_accept_volume_transfer
    test_create_get_list_accept_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 125, in test_create_get_list_accept_volume_transfer
    test_create_get_list_accept_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 40, in test_create_get_list_accept_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:51,639 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV357Test:test_create_get_list_accept_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:51,639 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.57', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV357Test-Volume-1712874427"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volume_transfers.VolumesTransfersV357Test.test_create_list_delete_volume_transfer[id-d4b20ec2-e1bb-4068-adcf-6c20020a8e05]
--------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 150, in test_create_list_delete_volume_transfer
    test_create_list_delete_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 131, in test_create_list_delete_volume_transfer
    test_create_list_delete_volume_transfer()

      File "/opt/stack/tempest/tempest/api/volume/test_volume_transfers.py", line 81, in test_create_list_delete_volume_transfer
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:51,642 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesTransfersV357Test:test_create_list_delete_volume_transfer): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:26:51,643 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.57', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesTransfersV357Test-Volume-442950384"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_backup.VolumesBackupsTest.test_volume_backup_create_get_detailed_list_restore_delete[id-a66eb488-8ee1-47d4-8e9f-575a095728c6]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_backup.py", line 71, in test_volume_backup_create_get_detailed_list_restore_delete
    volume = self.create_volume(metadata=metadata)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:55,793 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesBackupsTest:test_volume_backup_create_get_detailed_list_restore_delete): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:55,794 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"metadata": {"vol-meta1": "value1", "vol-meta2": "value2", "vol-meta3": "value3"}, "size": 1, "name": "tempest-VolumesBackupsTest-Volume-26241655"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_backup.VolumesBackupsV39Test.test_update_backup[id-9b374cbc-be5f-4d37-8848-7efb8a873dcc]
------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_backup.py", line 238, in test_update_backup
    volume = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))


tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume[id-9adae371-a257-43a5-9555-dc7c88e66e0e]
-----------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_clone.py", line 54, in test_create_from_volume
    src_vol = self.create_volume(size=src_size)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:58,788 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesCloneTest:test_create_from_volume): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:58,788 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesCloneTest-Volume-1316339161"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size[id-9adae371-a257-43a5-459a-dc7c88e66e0e,negative]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_clone_negative.py", line 40, in test_create_from_volume_decreasing_size
    src_vol = self.create_volume(size=src_size)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:26:59,771 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesCloneNegativeTest:test_create_from_volume_decreasing_size): 500 POST http://10.201.5.82/volume/v3/volumes 0.001s
2025-01-06 16:26:59,771 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 2, "name": "tempest-VolumesCloneNegativeTest-Volume-268009970"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:26:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete[id-27fb0e9f-fb64-41dd-8bdb-1ffa762f0d51,smoke]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 125, in test_volume_create_get_update_delete
    self._volume_create_get_update_delete(size=CONF.volume.volume_size)

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 41, in _volume_create_get_update_delete
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))


tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone[id-3f591b4a-7dc6-444c-bd51-77469506b3a1]
-----------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 143, in test_volume_create_get_update_delete_as_clone
    origin = self.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:00,811 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesGetTest:test_volume_create_get_update_delete_as_clone): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:27:00,812 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesGetTest-Volume-1839068849"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary[id-c4f2431e-4920-4736-9e00-4040386b6feb]
------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_get.py", line 158, in test_show_volume_summary
    self.volumes_client.show_volume_summary()

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 159, in show_volume_summary
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:01,813 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSummaryTest:test_show_volume_summary): 500 GET http://10.201.5.82/volume/v3/volumes/summary 0.002s
2025-01-06 16:27:01,813 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.12', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes/summary'}
        Body: b'Internal Server Error'


setUpClass (tempest.api.volume.test_volumes_list.VolumesListTestJSON)
---------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_list.py", line 82, in resource_setup
    existing_volumes = cls.volumes_client.list_volumes()['volumes']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 81, in list_volumes
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON)
------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots.py", line 41, in resource_setup
    cls.volume_origin = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


setUpClass (tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON)
---------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 566, in _get_chunk_left
    chunk_left = self._read_next_chunk_size()

      File "/usr/lib/python3.10/http/client.py", line 533, in _read_next_chunk_size
    return int(line, 16)

    ValueError: invalid literal for int() with base 16: b''

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/usr/lib/python3.10/http/client.py", line 583, in _read_chunked
    chunk_left = self._get_chunk_left()

      File "/usr/lib/python3.10/http/client.py", line 568, in _get_chunk_left
    raise IncompleteRead(b'')

    http.client.IncompleteRead: IncompleteRead(0 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 444, in _error_catcher
    yield

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 567, in read
    data = self._fp_read(amt) if not fp_closed else b""

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 533, in _fp_read
    return self._fp.read(amt) if amt is not None else self._fp.read()

      File "/usr/lib/python3.10/http/client.py", line 460, in read
    return self._read_chunked(amt)

      File "/usr/lib/python3.10/http/client.py", line 598, in _read_chunked
    raise IncompleteRead(b''.join(value))

    http.client.IncompleteRead: IncompleteRead(21 bytes read)

    
During handling of the above exception, another exception occurred:


    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 185, in setUpClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 178, in setUpClass
    cls.resource_setup()

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_list.py", line 32, in resource_setup
    volume_origin = cls.create_volume()

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 746, in request
    resp, resp_body = self._request(method, url, headers=headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 612, in _request
    resp, resp_body = self.raw_request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 661, in raw_request
    resp, resp_body = self.http_obj.request(

      File "/opt/stack/tempest/tempest/lib/common/http.py", line 123, in request
    r = super(ClosingHttp, self).request(method, url, retries=retry,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 81, in request
    return self.request_encode_body(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/request.py", line 173, in request_encode_body
    return self.urlopen(method, url, **extra_kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 802, in urlopen
    retries = retries.increment(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 736, in urlopen
    response = self.ResponseCls.from_httplib(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 653, in from_httplib
    resp = ResponseCls(

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 266, in __init__
    self._body = self.read(decode_content=decode_content)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 566, in read
    with self._error_catcher():

      File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/urllib3/response.py", line 461, in _error_catcher
    raise ProtocolError("Connection broken: %r" % e, e)

    urllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(21 bytes read)', IncompleteRead(21 bytes read))


tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id[id-e3e466af-70ab-4f4b-a967-ab04e3532ea7,negative]
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 38, in test_create_snapshot_with_nonexistent_volume_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 70, in create_snapshot
    resp, body = self.post('snapshots', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,674 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_create_snapshot_with_nonexistent_volume_id): 500 POST http://10.201.5.82/volume/v3/snapshots 0.001s
2025-01-06 16:27:08,675 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "a95448c6-a98c-4a60-bf76-13c661e387e3", "display_name": "tempest-VolumesSnapshotNegativeTestJSON-snap-1050324530"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id[id-bb9da53e-d335-4309-9c15-7e76fd5e4d6d,negative]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 51, in test_create_snapshot_without_passing_volume_id
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 70, in create_snapshot
    resp, body = self.post('snapshots', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,678 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_create_snapshot_without_passing_volume_id): 500 POST http://10.201.5.82/volume/v3/snapshots 0.001s
2025-01-06 16:27:08,678 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": null, "display_name": "tempest-VolumesSnapshotNegativeTestJSON-snap-1151164270"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit[id-8fd92339-e22f-4591-86b4-1e2215372a40,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 78, in test_list_snapshot_invalid_param_limit
    self.assertRaises(lib_exc.BadRequest,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 44, in list_snapshots
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,681 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_list_snapshot_invalid_param_limit): 500 GET http://10.201.5.82/volume/v3/snapshots?limit=invalid 0.001s
2025-01-06 16:27:08,681 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots?limit=invalid'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker[id-b68deeda-ca79-4a32-81af-5c51179e553a,negative]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 94, in test_list_snapshots_invalid_param_marker
    self.assertRaises(lib_exc.NotFound,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 44, in list_snapshots
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,684 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_list_snapshots_invalid_param_marker): 500 GET http://10.201.5.82/volume/v3/snapshots?marker=8422ff45-dcc6-43b7-88ed-20cf1697f051 0.001s
2025-01-06 16:27:08,684 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots?marker=8422ff45-dcc6-43b7-88ed-20cf1697f051'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort[id-27b5f37f-bf69-4e8c-986e-c44f3d6819b8,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 86, in test_list_snapshots_invalid_param_sort
    self.assertRaises(lib_exc.BadRequest,

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 495, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 507, in assertThat
    mismatch_error = self._matchHelper(matchee, matcher, message, verbose)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 560, in _matchHelper
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 108, in match
    mismatch = self.exception_matcher.match(exc_info)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_higherorder.py", line 61, in match
    mismatch = matcher.match(matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 484, in match
    reraise(*matchee)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/compat.py", line 27, in reraise
    raise exc_obj.with_traceback(exc_tb)

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/matchers/_exception.py", line 101, in match
    result = matchee()

      File "/opt/stack/data/venv/lib/python3.10/site-packages/testtools/testcase.py", line 1110, in __call__
    return self._callable_object(*self._args, **self._kwargs)

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/snapshots_client.py", line 44, in list_snapshots
    resp, body = self.get(url)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 342, in get
    return self.request('GET', url, extra_headers, headers,

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,687 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_list_snapshots_invalid_param_sort): 500 GET http://10.201.5.82/volume/v3/snapshots?sort_key=invalid 0.002s
2025-01-06 16:27:08,687 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/snapshots?sort_key=invalid'}
        Body: b'Internal Server Error'


tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size[id-677863d1-34f9-456d-b6ac-9924f667a7f4,negative]
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volumes_snapshots_negative.py", line 65, in test_volume_from_snapshot_decreasing_size
    src_vol = self.create_volume(size=src_size)

      File "/opt/stack/tempest/tempest/api/volume/base.py", line 139, in create_volume
    volume = self.volumes_client.create_volume(**kwargs)['volume']

      File "/opt/stack/tempest/tempest/lib/services/volume/v3/volumes_client.py", line 116, in create_volume
    resp, body = self.post('volumes', post_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 314, in post
    resp_header, resp_body = self.request(

      File "/opt/stack/tempest/tempest/lib/services/volume/base_client.py", line 39, in request
    resp, resp_body = super(BaseClient, self).request(

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 762, in request
    self._error_checker(resp, resp_body)

      File "/opt/stack/tempest/tempest/lib/common/rest_client.py", line 947, in _error_checker
    raise exceptions.ServerFault(resp_body, resp=resp,

    tempest.lib.exceptions.ServerFault: Got server fault
Details: b'Internal Server Error'


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2025-01-06 16:27:08,690 130700 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotNegativeTestJSON:test_volume_from_snapshot_decreasing_size): 500 POST http://10.201.5.82/volume/v3/volumes 0.002s
2025-01-06 16:27:08,690 130700 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 2, "name": "tempest-VolumesSnapshotNegativeTestJSON-Volume-388959392"}}
    Response - Headers: {'date': 'Mon, 06 Jan 2025 16:27:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'connection': 'close', 'content-type': 'text/plain', 'transfer-encoding': 'chunked', 'status': '500', 'content-location': 'http://10.201.5.82/volume/v3/volumes'}
        Body: b'Internal Server Error'



======
Totals
======
Ran: 105 tests in 132.2980 sec.
 - Passed: 5
 - Skipped: 13
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 87
Sum of execute time for each test: 2.1238 sec.

==============
Worker Balance
==============
 - Worker 0 (105 tests) => 0:02:12.297967
